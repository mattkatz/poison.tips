{{ partial "head.html" . }}
{{ $baseUrl := .Site.BaseURL }}
<body id="list">
  {{ partial "header.html" . }}
  <div id="content-container">
    <div class="posts">
      <!-- Iterate over sections except the blank section given by top level elements -->
      {{ range  where (.Data.Pages.GroupBy "Section" ) "Key" "ne" "" }}
        <section class="{{ .Key }}">
          <a href="{{ $baseUrl }}/{{ .Key }}"><h2>{{ .Key }}</h2></a>
          {{ range .Pages }}
             <div class="post-preview">
              <span class="post-symbol {{ .Params.color }}">
                <i class="symbol fa fa-{{ .Params.icon }}"></i>
              </span>
              <div class="post-content">
                <h1 class="post-title">
                  <a href="{{ .Permalink }}">{{ .Title }}</a>
                </h1>
                <span class="post-date">{{ .Date.Format "Mon, Jan 2, 2006" }}</span>
                <p>{{ .Description }}</p>
              </div>
            </div> 
          {{ end }}
        </section>

      {{ end }}
    </div>
  </div>

  {{ partial "footer.html" . }}
</body>
</html>
